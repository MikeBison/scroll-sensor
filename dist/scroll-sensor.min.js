!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var i=t();for(var o in i)("object"==typeof exports?exports:e)[o]=i[o]}}(window,(function(){return function(e){var t={};function i(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=e,i.c=t,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(o,n,function(t){return e[t]}.bind(null,n));return o},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=1)}([function(e,t,i){"use strict";var o,n="object"==typeof Reflect?Reflect:null,s=n&&"function"==typeof n.apply?n.apply:function(e,t,i){return Function.prototype.apply.call(e,t,i)};o=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var r=Number.isNaN||function(e){return e!=e};function h(){h.init.call(this)}e.exports=h,h.EventEmitter=h,h.prototype._events=void 0,h.prototype._eventsCount=0,h.prototype._maxListeners=void 0;var l=10;function a(e){return void 0===e._maxListeners?h.defaultMaxListeners:e._maxListeners}function u(e,t,i,o){var n,s,r,h;if("function"!=typeof i)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof i);if(void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,i.listener?i.listener:i),s=e._events),r=s[t]),void 0===r)r=s[t]=i,++e._eventsCount;else if("function"==typeof r?r=s[t]=o?[i,r]:[r,i]:o?r.unshift(i):r.push(i),(n=a(e))>0&&r.length>n&&!r.warned){r.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+r.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=r.length,h=l,console&&console.warn&&console.warn(h)}return e}function c(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,s(this.listener,this.target,e))}function d(e,t,i){var o={fired:!1,wrapFn:void 0,target:e,type:t,listener:i},n=c.bind(o);return n.listener=i,o.wrapFn=n,n}function p(e,t,i){var o=e._events;if(void 0===o)return[];var n=o[t];return void 0===n?[]:"function"==typeof n?i?[n.listener||n]:[n]:i?function(e){for(var t=new Array(e.length),i=0;i<t.length;++i)t[i]=e[i].listener||e[i];return t}(n):v(n,n.length)}function m(e){var t=this._events;if(void 0!==t){var i=t[e];if("function"==typeof i)return 1;if(void 0!==i)return i.length}return 0}function v(e,t){for(var i=new Array(t),o=0;o<t;++o)i[o]=e[o];return i}Object.defineProperty(h,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||r(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),h.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},h.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||r(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},h.prototype.getMaxListeners=function(){return a(this)},h.prototype.emit=function(e){for(var t=[],i=1;i<arguments.length;i++)t.push(arguments[i]);var o="error"===e,n=this._events;if(void 0!==n)o=o&&void 0===n.error;else if(!o)return!1;if(o){var r;if(t.length>0&&(r=t[0]),r instanceof Error)throw r;var h=new Error("Unhandled error."+(r?" ("+r.message+")":""));throw h.context=r,h}var l=n[e];if(void 0===l)return!1;if("function"==typeof l)s(l,this,t);else{var a=l.length,u=v(l,a);for(i=0;i<a;++i)s(u[i],this,t)}return!0},h.prototype.addListener=function(e,t){return u(this,e,t,!1)},h.prototype.on=h.prototype.addListener,h.prototype.prependListener=function(e,t){return u(this,e,t,!0)},h.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,d(this,e,t)),this},h.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,d(this,e,t)),this},h.prototype.removeListener=function(e,t){var i,o,n,s,r;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(o=this._events))return this;if(void 0===(i=o[e]))return this;if(i===t||i.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete o[e],o.removeListener&&this.emit("removeListener",e,i.listener||t));else if("function"!=typeof i){for(n=-1,s=i.length-1;s>=0;s--)if(i[s]===t||i[s].listener===t){r=i[s].listener,n=s;break}if(n<0)return this;0===n?i.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(i,n),1===i.length&&(o[e]=i[0]),void 0!==o.removeListener&&this.emit("removeListener",e,r||t)}return this},h.prototype.off=h.prototype.removeListener,h.prototype.removeAllListeners=function(e){var t,i,o;if(void 0===(i=this._events))return this;if(void 0===i.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==i[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete i[e]),this;if(0===arguments.length){var n,s=Object.keys(i);for(o=0;o<s.length;++o)"removeListener"!==(n=s[o])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=i[e]))this.removeListener(e,t);else if(void 0!==t)for(o=t.length-1;o>=0;o--)this.removeListener(e,t[o]);return this},h.prototype.listeners=function(e){return p(this,e,!0)},h.prototype.rawListeners=function(e){return p(this,e,!1)},h.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},h.prototype.listenerCount=m,h.prototype.eventNames=function(){return this._eventsCount>0?o(this._events):[]}},function(e,t,i){"use strict";i.r(t);var o=i(0);function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class s{constructor(e={}){n(this,"mouseWheelIsEnable",void 0),n(this,"mouseWheelXSpeed",void 0),n(this,"mouseWheelYSpeed",void 0),n(this,"mouseMoveIsEnable",void 0),n(this,"mouseMoveXSpeed",void 0),n(this,"mouseMoveYSpeed",void 0),n(this,"mouseMoveInertiaXDeceleration",void 0),n(this,"mouseMoveInertiaYDeceleration",void 0),n(this,"mouseMoveInertiaXMaxSpeed",void 0),n(this,"mouseMoveInertiaYMaxSpeed",void 0),n(this,"touchIsEnable",void 0),n(this,"touchXSpeed",void 0),n(this,"touchYSpeed",void 0),n(this,"touchInertiaXDeceleration",void 0),n(this,"touchInertiaYDeceleration",void 0),n(this,"touchInertiaXMaxSpeed",void 0),n(this,"touchInertiaYMaxSpeed",void 0),n(this,"minScrollTop",void 0),n(this,"minScrollLeft",void 0),n(this,"maxScrollTop",void 0),n(this,"maxScrollLeft",void 0),this.mouseWheelIsEnable=this.dealParam(e.mouseWheelIsEnable,!0),this.mouseWheelXSpeed=this.dealParam(e.mouseWheelXSpeed,1),this.mouseWheelYSpeed=this.dealParam(e.mouseWheelYSpeed,1),this.mouseMoveIsEnable=this.dealParam(e.mouseMoveIsEnable,!0),this.mouseMoveXSpeed=this.dealParam(e.mouseMoveXSpeed,1),this.mouseMoveYSpeed=this.dealParam(e.mouseMoveYSpeed,1),this.mouseMoveInertiaXDeceleration=this.dealParam(e.mouseMoveInertiaXDeceleration,1/0),this.mouseMoveInertiaYDeceleration=this.dealParam(e.mouseMoveInertiaYDeceleration,1/0),this.mouseMoveInertiaXMaxSpeed=this.dealParam(e.mouseMoveInertiaXMaxSpeed,this.mouseMoveInertiaXDeceleration),this.mouseMoveInertiaYMaxSpeed=this.dealParam(e.mouseMoveInertiaYMaxSpeed,this.mouseMoveInertiaYDeceleration),this.touchIsEnable=this.dealParam(e.touchIsEnable,!0),this.touchXSpeed=this.dealParam(e.touchXSpeed,1),this.touchYSpeed=this.dealParam(e.touchYSpeed,1),this.touchInertiaXDeceleration=this.dealParam(e.touchInertiaXDeceleration,1/0),this.touchInertiaYDeceleration=this.dealParam(e.touchInertiaYDeceleration,1/0),this.touchInertiaXMaxSpeed=this.dealParam(e.touchInertiaXMaxSpeed,this.touchInertiaXDeceleration),this.touchInertiaYMaxSpeed=this.dealParam(e.touchInertiaYMaxSpeed,this.touchInertiaYDeceleration),this.minScrollTop=this.dealParam(e.minScrollTop,0),this.minScrollLeft=this.dealParam(e.minScrollLeft,0),this.maxScrollTop=this.dealParam(e.maxScrollTop,1/0),this.maxScrollLeft=this.dealParam(e.maxScrollLeft,0)}dealParam(e,t){return null==e?t:e}}class r{constructor(e,t,i,o){this.scrollTop=e,this.scrollLeft=t,this.scrollY=i,this.scrollX=o}}function h(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function l(e){return e>0?1:e<0?-1:0===e?0:NaN}class a{constructor(e){this.endTimeRange=e,h(this,"positions",[])}filterPositions(){const e=new Date;this.positions=this.positions.filter(t=>e.getTime()-t[0].getTime()<=this.endTimeRange)}push(e){this.positions.length&&this.positions[this.positions.length-1][1]*e<0&&this.clear(),this.positions.push([new Date,e]),this.filterPositions()}getEndSpeed(){if(this.filterPositions(),0===this.positions.length||1===this.positions.length)return 0;const e=this.positions[0],t=this.positions[this.positions.length-1];return(t[1]-e[1])/((t[0].getTime()-e[0].getTime())/1e3)}clear(){this.positions=[]}}class u extends o.EventEmitter{constructor(e=200,t=1/0,i=1/0,o=1/0,n=1/0){super(),this.xDecelerationPerSecond=t,this.yDecelerationPerSecond=i,this.xMaxSpeed=o,this.yMaxSpeed=n,h(this,"xPositionStore",void 0),h(this,"yPositionStore",void 0),h(this,"timer",void 0),this.xPositionStore=new a(e),this.yPositionStore=new a(e)}setEndTimeRange(e){this.xPositionStore.endTimeRange=e,this.yPositionStore.endTimeRange=e}setXDecelerationPerSecond(e){this.xDecelerationPerSecond=e}setYDecelerationPerSecond(e){this.yDecelerationPerSecond=e}setXMaxSpeed(e){this.xMaxSpeed=e}setYMaxSpeed(e){this.yMaxSpeed=e}push(e,t){this.xPositionStore.push(e),this.yPositionStore.push(t)}end(){this.timer&&window.clearInterval(this.timer);const e=this.dealOriginalSpeed(this.xPositionStore.getEndSpeed(),this.xMaxSpeed),t=this.dealOriginalSpeed(this.yPositionStore.getEndSpeed(),this.yMaxSpeed),i=0===l(e)?0:l(e)*this.xDecelerationPerSecond,o=0===l(t)?0:l(t)*this.yDecelerationPerSecond;let n=e,s=t,r=Date.now();this.timer=setInterval(()=>{const h=(Date.now()-r)/1e3;0!==h&&(n-=h*i,s-=h*o,r=Date.now(),n*e>0||s*t>0?((isNaN(n*e)||n*e<0)&&(n=0),(isNaN(n*t)||s*t<0)&&(s=0),this.emit("inertiaMove",{xSpeed:n,ySpeed:s,xDistance:n*h,yDistance:s*h})):this.stop())})}stop(){this.xPositionStore.clear(),this.yPositionStore.clear(),window.clearInterval(this.timer),this.timer=null}dealOriginalSpeed(e,t){return Math.abs(e)>t?l(e)*t:e}}function c(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i.d(t,"ScrollSensor",(function(){return d}));class d extends o.EventEmitter{constructor({element:e,options:t={},initialScrollTop:i=0,initialScrollLeft:o=0}){if(super(),c(this,"element",void 0),c(this,"options",void 0),c(this,"_scrollTop",void 0),c(this,"_scrollLeft",void 0),c(this,"mouseIsScrolling",!1),c(this,"mouseXLastPosition",void 0),c(this,"mouseYLastPosition",void 0),c(this,"mouseScrollEndInertiaUtil",new u),c(this,"touchXLastPosition",void 0),c(this,"touchYLastPosition",void 0),c(this,"touchEndInertiaUtil",new u),c(this,"handleMousewheel",e=>{this.options.mouseWheelIsEnable&&this.move(e.deltaX*this.options.mouseWheelXSpeed,e.deltaY*this.options.mouseWheelYSpeed)}),c(this,"handleMouseDown",e=>{this.options.mouseMoveIsEnable&&(this.mouseXLastPosition=e.clientX,this.mouseYLastPosition=e.clientY,this.mouseIsScrolling=!0,this.mouseScrollEndInertiaUtil.stop())}),c(this,"handleMouseMove",e=>{if(this.mouseIsScrolling){const t=this.mouseXLastPosition-e.clientX,i=this.mouseYLastPosition-e.clientY;this.move(t*this.options.mouseMoveXSpeed,i*this.options.mouseMoveYSpeed),this.mouseXLastPosition=e.clientX,this.mouseYLastPosition=e.clientY,this.mouseScrollEndInertiaUtil.push(this.scrollLeft,this.scrollTop)}}),c(this,"handleMouseUp",()=>{this.mouseIsScrolling=!1,this.mouseScrollEndInertiaUtil.end()}),c(this,"handleTouchStart",e=>{this.options.touchIsEnable&&(this.touchXLastPosition=Math.round(e.touches[0].clientX),this.touchYLastPosition=Math.round(e.touches[0].clientY),this.touchEndInertiaUtil.stop())}),c(this,"handleTouchMove",e=>{if(!this.options.touchIsEnable)return;const t=Math.round(e.touches[0].clientX),i=Math.round(e.touches[0].clientY),o=this.touchXLastPosition-t,n=this.touchYLastPosition-i;this.move(o,n),this.touchXLastPosition=t,this.touchYLastPosition=i,this.touchEndInertiaUtil.push(this.scrollLeft,this.scrollTop)}),c(this,"handleTouchEnd",()=>{this.touchEndInertiaUtil.end()}),c(this,"handleInertiaMove",e=>{this.move(e.xDistance,e.yDistance)}),!(e instanceof HTMLElement))throw new Error('"element" param is must an instance of HTMLElement');this.element=e,this.scrollTop=i,this.scrollLeft=o,this.setOptions(t),this.element.addEventListener("mousewheel",this.handleMousewheel),this.element.addEventListener("mousedown",this.handleMouseDown),this.element.addEventListener("mousemove",this.handleMouseMove),this.element.addEventListener("mouseup",this.handleMouseUp),this.element.addEventListener("touchstart",this.handleTouchStart),this.element.addEventListener("touchmove",this.handleTouchMove),this.element.addEventListener("touchend",this.handleTouchEnd),this.mouseScrollEndInertiaUtil.on("inertiaMove",this.handleInertiaMove),this.touchEndInertiaUtil.on("inertiaMove",this.handleInertiaMove)}setOptions(e={}){this.options=new s(e),this.mouseScrollEndInertiaUtil.setXDecelerationPerSecond(this.options.mouseMoveInertiaXDeceleration),this.mouseScrollEndInertiaUtil.setYDecelerationPerSecond(this.options.mouseMoveInertiaYDeceleration),this.mouseScrollEndInertiaUtil.setXMaxSpeed(this.options.mouseMoveInertiaXMaxSpeed),this.mouseScrollEndInertiaUtil.setYMaxSpeed(this.options.mouseMoveInertiaYMaxSpeed),this.touchEndInertiaUtil.setXDecelerationPerSecond(this.options.touchInertiaXDeceleration),this.touchEndInertiaUtil.setYDecelerationPerSecond(this.options.touchInertiaYDeceleration),this.touchEndInertiaUtil.setXMaxSpeed(this.options.touchInertiaXMaxSpeed),this.touchEndInertiaUtil.setYMaxSpeed(this.options.touchInertiaYMaxSpeed)}set scrollTop(e){e<this.options.minScrollTop?this._scrollTop=this.options.minScrollTop:e>this.options.maxScrollTop?this._scrollTop=this.options.maxScrollTop:this._scrollTop=e}get scrollTop(){return this._scrollTop}set scrollLeft(e){e<this.options.minScrollLeft?this.scrollLeft=this.options.minScrollLeft:e>this.options.maxScrollLeft?this.scrollLeft=this.options.maxScrollLeft:this.scrollLeft=e}get scrollLeft(){return this._scrollLeft}destroy(){this.mouseScrollEndInertiaUtil.removeAllListeners(),this.touchEndInertiaUtil.removeAllListeners(),this.element.removeEventListener("mousewheel",this.handleMousewheel),this.element.removeEventListener("mousedown",this.handleMouseDown),this.element.removeEventListener("mousemove",this.handleMouseMove),this.element.removeEventListener("mouseup",this.handleMouseUp),this.element.removeEventListener("touchstart",this.handleTouchStart),this.element.removeEventListener("touchmove",this.handleTouchMove),this.element.removeEventListener("touchend",this.handleTouchEnd)}move(e,t){this.scrollLeft=this.scrollLeft+e,this.scrollTop=this.scrollTop+t;const i=new r(this.scrollTop,this.scrollLeft,t,e);this.emit("scroll",i)}}}])}));